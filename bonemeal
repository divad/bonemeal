#!/usr/bin/python

import urwid
		
		
class BigTextDisplay:

	palette = [
		('edit', 'black', 'light gray'),
        ('header',       'white',      'dark red',   'bold'),
    ('bigtext', 'white', 'black'),]

	def main(self):
		self.view, self.view2 = self.setup_view()
		self.loop = urwid.MainLoop(self.view, self.palette, 
			unhandled_input=self.unhandled_input)
		self.loop.run()

	def unhandled_input(self,key):
		if key in ('q', 'Q'):
		    raise urwid.ExitMainLoop()
		elif key in ('n', 'N'):
			self.loop.widget = self.view2
			self.loop.draw_screen()
		
	def setup_view(self):

		div = urwid.Divider()

		bt = urwid.BigText('I am ready to build', font=urwid.font.HalfBlock5x4Font())
		btwp = urwid.Padding(bt, "center", 'clip')

		txt = urwid.Text(u"Press any key to get started",align='center')
		pile1 = urwid.Pile([btwp,div,txt])
		pile1 = urwid.Filler(pile1, 'middle', None, 7)

		hdr = urwid.Text("University of Southampton Linux Installer")
		hdr = urwid.AttrWrap(hdr, 'header')
		ftr = urwid.Text("bonemeal 0.1")
		ftr = urwid.AttrWrap(ftr, 'header')
		frame = urwid.Frame(header=hdr, body=pile1, footer=ftr)

		htxt = urwid.Text(u" Welcome to the RHEL post-installation setup.",align='left')
		ed = urwid.Edit(caption=('header',"    UOS Number:  "))
		ed = urwid.AttrMap(ed, 'edit')
		ed2 = urwid.Edit(caption=('header',"    Department:  "))
		ed2 = urwid.AttrMap(ed2, 'edit')
		ed3 = urwid.Edit(caption=('header',"      Username:  "))
		ed3 = urwid.AttrMap(ed3, 'edit')

		pile = urwid.Pile([div,htxt,div,ed,div,ed2,div,ed3])
		fill = urwid.Filler(pile, 'top')

		frame2 = urwid.Frame(header=hdr, body=fill, footer=ftr)

		return frame, frame2

def main():
    BigTextDisplay().main()
    
if '__main__'==__name__:
    main()


